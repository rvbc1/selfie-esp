<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="author" content="Marek Knosala" />


    <link rel="stylesheet" href="styles.css">
    <!-- <link href='http://fonts.googleapis.com/css?family=Lato|Josefin+Sans&subset=latin,latin-ext' rel='stylesheet'
        type='text/css'> -->

    <title>upload</title>

</head>

<body>
    <form method="POST" enctype="multipart/form-data" id='upload_form'>
        <input type="file" name="name" id='file'>
        <!-- <input type="file" name="name" id='file' onchange='sub(this)'> -->
        <!-- <label id='file-input' for='file'> Choose file...</label> -->
        <input class="button" type="submit" value="Upload">
        <!-- <br><br>
        <div id='prg'></div>
        <br>
        <div id='prgbar'>
            <div id='bar'></div>
        </div><br> -->
    </form>

</body>

<!-- <script>
    function sub(obj) {
        var fileName = obj.value.split('\\\\');
        document.getElementById('file-input').innerHTML = '   ' + fileName[fileName.length - 1];
    };
    $('form').submit(function (e) {
        e.preventDefault();
        var form = $('#upload_form')[0];
        var data = new FormData(form);
        $.ajax({
            url: '/upload',
            type: 'POST',
            data: data,
            contentType: false,
            processData: false,
            xhr: function () {
                var xhr = new window.XMLHttpRequest();
                xhr.upload.addEventListener('progress', function (evt) {
                    if (evt.lengthComputable) {
                        var per = evt.loaded / evt.total;
                        $('#prg').html('progress: ' + Math.round(per * 100) + '%');
                        $('#bar').css('width', Math.round(per * 100) + '%');
                    }
                }, false);
                return xhr;
            },
            success: function (d, s) {
                console.log('success!')
            },
            error: function (a, b, c) {
            }
        });
    });
</script> -->

</html>